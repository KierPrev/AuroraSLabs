<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Gran Tormenta Solar - Un Cuento CÃ³smico</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

</head>
<body>
    <!-- Estrellas de fondo -->
    <div class="stars-container"></div>
    <div class="reading-progress" id="reading-progress"></div>

    
    <!-- CapÃ­tulo 1: El Despertar de LihuÃ© -->
<div class="chapter active" id="chapter1">
  <h1 class="title">Curtains of light over the Sierras</h1>

  <div class="story-text">
    LihuÃ© woke before dawn in La Punta. The house felt strange: the microwave clock was blank, and the computer wouldnâ€™t turn on. â€œPower outage?â€ they wondered.
  </div>

  <div class="story-text">
    They walked to the window and pulled back the curtain. Outside, the Sierras de San Luis looked the same as alwaysâ€”except for something impossible. Above the hills, the sky held green curtains with touches of violet drifting slowly, as if someone were waving a theater curtain made of light.
  </div>

<img src="./images/1.png" alt="Green aurora over the Sierras" class="story-image">

  <div class="story-text">
    â€œWhat is that?â€ LihuÃ© whispered. They didnâ€™t know this story had begun hours earlierâ€”far from Earth, inside the Sun.
  </div>
</div>

<!-- CapÃ­tulo 2: Dentro del Sol -->
<div class="chapter" id="chapter2">
  <h1 class="title">Inside the Sun</h1>

  <div class="story-text">
    Deep inside the Sun, in the heart of a dark sunspot, tides of plasma heaved and tangled. One current burned brighterâ€”restless, tugging hard at the magnetic threads.
  </div>

  <div class="story-text">
    â€œCareful,â€ the other tides murmured. â€œYouâ€™ll cause trouble.â€ â€œI want to see whatâ€™s beyond,â€ said the bright current. The threads tightened, trembledâ€”thenâ€”snap!
  </div>

  <div class="story-text">
    Light and magnetized plasma exploded outward, racing into space. In that instant the current became something new: a vast, swirling cloudâ€”a coronal mass ejection.
  </div>

  <div class="story-text">
    â€œThere goes â€˜Nombreâ€™ again,â€ the others cried, â€œalways making trouble!â€ But â€œNombreâ€ didnâ€™t turn back. Newborn and blazing, they were already leaving the Sun, eager for whatever lay ahead.
  </div>



  <div class="story-text">
    Back on the surface, the Sunâ€™s radiant family stirredâ€”the children born from its burning heart. The Solar Flares, fierce and proud, burst out as flashes of light and heat. The Solar Wind, calm and patient, whispered through space every day. And then there was Nombreâ€”heavier, slower, filled with magnetic fire.
  </div>

  <div class="story-text">
    Together, they formed a solar storm, the greatest the solar system had seen in ages.
  </div>
</div>

<!-- CapÃ­tulo 4: Cruzando los Mundos Interiores -->
<div class="chapter" id="chapter3">
  <h1 class="title">Crossing the Inner Worlds</h1>

  <div class="story-text">
    The Sun slowly grew smaller behind. Around â€œNombre,â€ there was silenceâ€”no sound, no warmth, no home. Space felt vast and empty.
  </div>

  <div class="story-text">
    Soon, a calm voice reached them: the Solar Wind, flowing beside them. â€œYouâ€™re new here,â€ said the Solar Wind. â€œWhere are you headed?â€ â€œI donâ€™t know,â€ answered â€œNombre.â€ â€œI just want to see whatâ€™s out there.â€ â€œThen youâ€™ll have to learn patience,â€ said the Wind. â€œEach of us moves differentlyâ€”Iâ€™ll reach Venus in three days.â€
  </div>

  <div class="story-text">
    â€œNombreâ€ continued forward, glowing and curious. They passed Mercury, too bright and near the fire to welcome anyone. Then Venus, wrapped in silver clouds that hid its surface from sight. The Solar Wind slowed and drifted away. â€œGood luck, little spark,â€ it whispered.
  </div>

  <div class="story-text">
    For the first time, â€œNombreâ€ felt alone. The cold of space was growing deeper. The warmth of the Sun no longer reached.
  </div>
</div>

<!-- CapÃ­tulo 5: El Escudo Azul -->
<div class="chapter" id="chapter4">
  <h1 class="title">The Blue Shield</h1>

  <div class="story-text">
    Still, â€œNombreâ€ pressed onwardâ€”a streak of golden fire moving toward a distant blue world. After days of traveling, â€œNombreâ€ noticed a force pushing back. Something invisible was slowing them, bending their path.
  </div>

  <div class="story-text">
    They saw what it was: a small, shining world suspended like a pale blue mote in the darkâ€”Earth. â€œWhat is that place?â€ â€œNombreâ€ wondered. â€œWhy does it resist me?â€
  </div>

  <div class="story-text">
    They felt both fear and fascination. The invisible force was the Earthâ€™s magnetic field, a giant shield that curved around the blue planet, deflecting most of the Sunâ€™s fury. â€œWho are you?â€ Nombre asked. A deep, silent voice answered: â€œI am Earthâ€™s shield. You cannot pass, but you may dance upon my edges.â€
  </div>

  <div class="story-text">
    Curiosity was stronger. â€œNombreâ€ leaned in. â€œJust a little closer,â€ they whispered, and brushed the edge of Earthâ€™s shield. A tremor spread around the planet. Satellites shuddered as waves of magnetic energy washed over them. Signals flickered and hissed.
  </div>

  <div class="story-text">
    â€œNombreâ€ swept through a metal machine orbiting high above the cloudsâ€”a satellite. Its screen blinked, and its circuits went silent. â€œI didnâ€™t mean to hurt it,â€ Nombre murmured, startled. â€œWhy does everything here break so easily?â€ They didnâ€™t yet understand that they carried the Sunâ€™s strength.
  </div>
</div>

<!-- CapÃ­tulo 6: Cuando el Cielo Baila -->
<div class="chapter" id="chapter5">
  <h1 class="title">When the Sky Dances</h1>

  <div class="story-text">
    Below, long, bright linesâ€”the power gridsâ€”shivered as invisible currents raced through them. In some places, lights went out all at once. Airplanes circled, unable to speak with the towers below. Even ships in faraway seas drifted, their compasses spinning wildly. Radios crackled and gave only static.
  </div>

  <div class="story-text">
    The sky shimmered, charged with invisible electricity. Nombre felt confusionâ€”what was happening to this world? â€œDid I mean to cause so much trouble?â€ Nombre wondered, seeing all the flickers and shadows spreading below.
  </div>

  <div class="story-text">
    Then something new began. As â€œNombreâ€™sâ€ energy touched the upper edge of Earthâ€™s atmosphereâ€”the ionosphereâ€”tiny atoms of oxygen and nitrogen started to dance, spinning and swaying in invisible waves. Their dance released colorsâ€”oxygen glowed red and green, while nitrogen shimmered in blue and violet.
  </div>

  <div class="story-text">
    Nombre was changing. They became an auroraâ€”a shimmering curtain, waving far beyond the poles, above the Sierras of San Luis.
  </div>
  
  <details class="science-accordion">
  <summary>ğŸ”¬ The science behind it: why is the aurora green?</summary>
<div class="accordion-body">
  <p>
    Auroras happen when tiny particles from the solar wind bump into atoms of 
    oxygen and nitrogen high up in Earthâ€™s atmosphere.  
    Oxygen glows green when itâ€™s about 100â€“300 kilometers above the ground, 
    while nitrogen adds blue and purple shades to the light show.
  </p>
</div>

</details>

</div>

<!-- CapÃ­tulo 7: Cuando el Sol PintÃ³ Nuestro Cielo -->
<div class="chapter" id="chapter6">
  <h1 class="title">When the Sun Painted Our Sky</h1>

  <div class="story-text">
    In La Punta, LihuÃ© still watched from the window, eyes wide. The lights above the mountains shifted from emerald green to deep blue, from violet to threads of warm gold. Far away, swallows flew in zigzags, as though unsure which way was north. They landed together on the old algarrobo tree, ruffling their wings.
  </div>

  <div class="story-text">
    On the battery radio, a reporterâ€™s voice crackled: â€œWhales are turning off course in the southern seas tonight. Fishermen say the ocean feels strange.â€ LihuÃ© crept outside, toes curling in the cold grass, looking up with awe. â€œWhatâ€™s happening to the sky?â€ they whispered.
  </div>

  <div class="story-text">
    High above, â€œNombreâ€ was fading. Their energy spread thinner and thinner, until they were only colors dissolving into the sky. For a moment, â€œNombreâ€ felt peace. â€œSo this is what it means to touch a world,â€ they thought. They disappeared softly into the atmosphere, leaving behind the light of a thousand colors.
  </div>

  <div class="story-text">
    LihuÃ© watched until the last shimmer vanished. They ran inside and opened their sketchbook. Green waves over the hills, violet ribbons in the dawnâ€”they drew everything before it faded from memory. Under the picture, they wrote a question: Can the Sun paint our sky?
  </div>

  <div class="story-text">
    Standing by the window again, LihuÃ© smiled. They felt they had seen something secretâ€”the planet itself seemed alive, like a giant compass that the Sun had gently touched. That night, La Punta kept the memory of a different skyâ€”one that beat to the rhythm of the Sun.
  </div>
</div>
   

    <!-- NavegaciÃ³n -->
    <div class="navigation">
        <button class="nav-btn active">â›°ï¸</button>
        <button class="nav-btn">ğŸŒ</button>
        <button class="nav-btn">ğŸŒŒ</button>
        <button class="nav-btn">ğŸŒ</button>
        <button class="nav-btn">âœ¨</button>
        <button class="nav-btn">ğŸŒ…</button>
    </div>

    <script>
        let currentChapter = 1;
        const totalChapters = 6;

        window.addEventListener("scroll", () => {
        const scrollTop = window.scrollY || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - window.innerHeight;
        const scrolled = (scrollTop / height) * 100;
        document.getElementById("reading-progress").style.width = scrolled + "%";
      });

        // Generar estrellas de fondo
        function createStars() {
            const container = document.querySelector('.stars-container');
            if (container) {
                for (let i = 0; i < 100; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.animationDelay = Math.random() * 3 + 's';
                    container.appendChild(star);
                }
            }
        }

        // Generar partÃ­culas espaciales
        function createSpaceParticles() {
            const spaceJourney = document.querySelector('.space-journey');
            if (spaceJourney) {
                for (let i = 0; i < 15; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'space-particle';
                    particle.style.left = Math.random() * -50 + 'px';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.animationDelay = Math.random() * 12 + 's';
                    spaceJourney.appendChild(particle);
                }
            }
        }

        // Crear efectos electromagnÃ©ticos
        function createElectromagneticEffects() {
            const earthEncounter = document.querySelector('.earth-encounter');
            if (earthEncounter) {
                for (let i = 0; i < 8; i++) {
                    const wave = document.createElement('div');
                    wave.className = 'electromagnetic-wave';
                    wave.style.cssText = `
                        position: absolute;
                        width: ${20 + Math.random() * 30}px;
                        height: 3px;
                        background: linear-gradient(90deg, transparent, #00bfff, transparent);
                        top: ${20 + Math.random() * 60}%;
                        left: -50px;
                        animation: electromagneticPulse ${2 + Math.random() * 3}s ease-in-out infinite;
                        animation-delay: ${Math.random() * 2}s;
                        opacity: 0.7;
                    `;
                    earthEncounter.appendChild(wave);
                }
            }
        }

        // Crear destellos de aurora
        function createAuroraSparkles() {
            const auroraFinal = document.querySelector('.aurora-final');
            if (auroraFinal) {
                for (let i = 0; i < 12; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'aurora-sparkle';
                    sparkle.style.cssText = `
                        position: absolute;
                        width: 4px;
                        height: 4px;
                        background: #fff;
                        border-radius: 50%;
                        top: ${Math.random() * 80}%;
                        left: ${Math.random() * 100}%;
                        animation: sparkle ${2 + Math.random() * 3}s ease-in-out infinite;
                        animation-delay: ${Math.random() * 2}s;
                        box-shadow: 0 0 6px #00ff7f;
                    `;
                    auroraFinal.appendChild(sparkle);
                }
            }
        }

        // Navegar al capÃ­tulo especÃ­fico
        function showChapter(chapterNum) {
            console.log('Navegando al capÃ­tulo:', chapterNum);
            
            // Validar que el nÃºmero de capÃ­tulo sea vÃ¡lido
            if (chapterNum < 1 || chapterNum > totalChapters) {
                console.error('NÃºmero de capÃ­tulo invÃ¡lido:', chapterNum);
                return;
            }

            // Actualizar botones de navegaciÃ³n
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach((btn, index) => {
                btn.classList.remove('active');
                if (index === chapterNum - 1) {
                    btn.classList.add('active');
                }
            });

            // Navegar al capÃ­tulo usando scroll suave
            const targetChapter = document.getElementById(`chapter${chapterNum}`);
            if (targetChapter) {
                targetChapter.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
                console.log(`Navegando al capÃ­tulo ${chapterNum}`);
            } else {
                console.error(`CapÃ­tulo chapter${chapterNum} no encontrado`);
            }
            
            currentChapter = chapterNum;
        }

        // NavegaciÃ³n automÃ¡tica (opcional)
        function autoAdvance() {
            setInterval(() => {
                if (currentChapter < totalChapters) {
                    showChapter(currentChapter + 1);
                } else {
                    showChapter(1); // Volver al inicio
                }
            }, 10000); // Cambiar cada 10 segundos
        }

        // AÃ±adir event listeners a los botones
        function setupNavigation() {
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach((btn, index) => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('BotÃ³n clickeado:', index + 1);
                    showChapter(index + 1);
                });
            });
        }

        // NavegaciÃ³n con teclado
        function setupKeyboardNavigation() {
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' && currentChapter < totalChapters) {
                    showChapter(currentChapter + 1);
                } else if (e.key === 'ArrowLeft' && currentChapter > 1) {
                    showChapter(currentChapter - 1);
                } else if (e.key === ' ') { // Spacebar para auto-advance
                    e.preventDefault();
                    if (currentChapter < totalChapters) {
                        showChapter(currentChapter + 1);
                    } else {
                        showChapter(1);
                    }
                }
            });
        }

        // Detectar capÃ­tulo actual basado en scroll
        function updateCurrentChapter() {
            const chapters = document.querySelectorAll('.chapter');
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const windowHeight = window.innerHeight;
            
            chapters.forEach((chapter, index) => {
                const chapterTop = chapter.offsetTop;
                const chapterBottom = chapterTop + chapter.offsetHeight;
                const chapterCenter = chapterTop + (chapter.offsetHeight / 2);
                
                // Si el centro del capÃ­tulo estÃ¡ visible, actualizar navegaciÃ³n
                if (chapterCenter >= scrollTop && chapterCenter <= scrollTop + windowHeight) {
                    const chapterNumber = index + 1;
                    if (currentChapter !== chapterNumber) {
                        currentChapter = chapterNumber;
                        
                        // Actualizar botones de navegaciÃ³n
                        const navBtns = document.querySelectorAll('.nav-btn');
                        navBtns.forEach((btn, btnIndex) => {
                            btn.classList.remove('active');
                            if (btnIndex === index) {
                                btn.classList.add('active');
                            }
                        });
                        
                        console.log('CapÃ­tulo actual detectado:', chapterNumber);
                    }
                }
            });
        }

        // NavegaciÃ³n con scroll
        function setupScrollNavigation() {
            // Detectar capÃ­tulo actual durante scroll normal
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                if (scrollTimeout) {
                    clearTimeout(scrollTimeout);
                }
                scrollTimeout = setTimeout(() => {
                    updateCurrentChapter();
                }, 100);
            });

            // NavegaciÃ³n rÃ¡pida con rueda del mouse
            let wheelTimeout;
            document.addEventListener('wheel', (e) => {
                // Prevenir mÃºltiples cambios rÃ¡pidos
                if (wheelTimeout) return;
                
                wheelTimeout = setTimeout(() => {
                    wheelTimeout = null;
                }, 800);

                if (e.deltaY > 0 && currentChapter < totalChapters) {
                    showChapter(currentChapter + 1);
                } else if (e.deltaY < 0 && currentChapter > 1) {
                    showChapter(currentChapter - 1);
                }
            });
        }

        // Inicializar cuando el DOM estÃ© listo
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM cargado, inicializando...');
            
            // Verificar que los elementos necesarios existan
            const chapters = document.querySelectorAll('.chapter');
            const navBtns = document.querySelectorAll('.nav-btn');
            
            console.log(`CapÃ­tulos encontrados: ${chapters.length}`);
            console.log(`Botones de navegaciÃ³n encontrados: ${navBtns.length}`);
            
            if (chapters.length === 0) {
                console.error('No se encontraron capÃ­tulos');
                return;
            }
            
            if (navBtns.length === 0) {
                console.error('No se encontraron botones de navegaciÃ³n');
                return;
            }

            // Configurar navegaciÃ³n
            setupNavigation();
            setupKeyboardNavigation();
            setupScrollNavigation();
            
            // Crear elementos visuales
            createStars();
            createSpaceParticles();
            createElectromagneticEffects();
            createAuroraSparkles();
            
            // Detectar capÃ­tulo inicial y asegurar navegaciÃ³n correcta
            updateCurrentChapter();
            
            // Si no se detectÃ³ ningÃºn capÃ­tulo, ir al primero
            if (currentChapter === 0) {
                currentChapter = 1;
                const navBtns = document.querySelectorAll('.nav-btn');
                navBtns[0].classList.add('active');
            }
            
            console.log('InicializaciÃ³n completada');
        });
    </script>
</body>
</html>