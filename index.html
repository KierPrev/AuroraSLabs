<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Gran Tormenta Solar - Un Cuento Cósmico</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

</head>
<body>
    <!-- Estrellas de fondo -->
    <div class="stars-container"></div>
    <div class="reading-progress" id="reading-progress"></div>

    
    <!-- Capítulo 1: El Despertar de Lihué -->
<div class="chapter active" id="chapter1">
  <h1 class="title">Curtains of light over the Sierras</h1>

  <div class="story-text">
    Lihué woke before dawn in La Punta. The house felt strange: the microwave clock was blank, and the computer wouldn’t turn on. “Power outage?” they wondered.
  </div>

  <div class="story-text">
    They walked to the window and pulled back the curtain. Outside, the Sierras de San Luis looked the same as always—except for something impossible. Above the hills, the sky held green curtains with touches of violet drifting slowly, as if someone were waving a theater curtain made of light.
  </div>

<img src="./images/1.png" alt="Green aurora over the Sierras" class="story-image">

  <div class="story-text">
    “What is that?” Lihué whispered. They didn’t know this story had begun hours earlier—far from Earth, inside the Sun.
  </div>
</div>

<!-- Capítulo 2: Dentro del Sol -->
<div class="chapter" id="chapter2">
  <h1 class="title">Inside the Sun</h1>

  <div class="story-text">
    Deep inside the Sun, in the heart of a dark sunspot, tides of plasma heaved and tangled. One current burned brighter—restless, tugging hard at the magnetic threads.
  </div>

  <div class="story-text">
    “Careful,” the other tides murmured. “You’ll cause trouble.” “I want to see what’s beyond,” said the bright current. The threads tightened, trembled—then—snap!
  </div>

  <div class="story-text">
    Light and magnetized plasma exploded outward, racing into space. In that instant the current became something new: a vast, swirling cloud—a coronal mass ejection.
  </div>

  <div class="story-text">
    “There goes ‘Nombre’ again,” the others cried, “always making trouble!” But “Nombre” didn’t turn back. Newborn and blazing, they were already leaving the Sun, eager for whatever lay ahead.
  </div>



  <div class="story-text">
    Back on the surface, the Sun’s radiant family stirred—the children born from its burning heart. The Solar Flares, fierce and proud, burst out as flashes of light and heat. The Solar Wind, calm and patient, whispered through space every day. And then there was Nombre—heavier, slower, filled with magnetic fire.
  </div>

  <div class="story-text">
    Together, they formed a solar storm, the greatest the solar system had seen in ages.
  </div>
</div>

<!-- Capítulo 4: Cruzando los Mundos Interiores -->
<div class="chapter" id="chapter3">
  <h1 class="title">Crossing the Inner Worlds</h1>

  <div class="story-text">
    The Sun slowly grew smaller behind. Around “Nombre,” there was silence—no sound, no warmth, no home. Space felt vast and empty.
  </div>

  <div class="story-text">
    Soon, a calm voice reached them: the Solar Wind, flowing beside them. “You’re new here,” said the Solar Wind. “Where are you headed?” “I don’t know,” answered “Nombre.” “I just want to see what’s out there.” “Then you’ll have to learn patience,” said the Wind. “Each of us moves differently—I’ll reach Venus in three days.”
  </div>

  <div class="story-text">
    “Nombre” continued forward, glowing and curious. They passed Mercury, too bright and near the fire to welcome anyone. Then Venus, wrapped in silver clouds that hid its surface from sight. The Solar Wind slowed and drifted away. “Good luck, little spark,” it whispered.
  </div>

  <div class="story-text">
    For the first time, “Nombre” felt alone. The cold of space was growing deeper. The warmth of the Sun no longer reached.
  </div>
</div>

<!-- Capítulo 5: El Escudo Azul -->
<div class="chapter" id="chapter4">
  <h1 class="title">The Blue Shield</h1>

  <div class="story-text">
    Still, “Nombre” pressed onward—a streak of golden fire moving toward a distant blue world. After days of traveling, “Nombre” noticed a force pushing back. Something invisible was slowing them, bending their path.
  </div>

  <div class="story-text">
    They saw what it was: a small, shining world suspended like a pale blue mote in the dark—Earth. “What is that place?” “Nombre” wondered. “Why does it resist me?”
  </div>

  <div class="story-text">
    They felt both fear and fascination. The invisible force was the Earth’s magnetic field, a giant shield that curved around the blue planet, deflecting most of the Sun’s fury. “Who are you?” Nombre asked. A deep, silent voice answered: “I am Earth’s shield. You cannot pass, but you may dance upon my edges.”
  </div>

  <div class="story-text">
    Curiosity was stronger. “Nombre” leaned in. “Just a little closer,” they whispered, and brushed the edge of Earth’s shield. A tremor spread around the planet. Satellites shuddered as waves of magnetic energy washed over them. Signals flickered and hissed.
  </div>

  <div class="story-text">
    “Nombre” swept through a metal machine orbiting high above the clouds—a satellite. Its screen blinked, and its circuits went silent. “I didn’t mean to hurt it,” Nombre murmured, startled. “Why does everything here break so easily?” They didn’t yet understand that they carried the Sun’s strength.
  </div>
</div>

<!-- Capítulo 6: Cuando el Cielo Baila -->
<div class="chapter" id="chapter5">
  <h1 class="title">When the Sky Dances</h1>

  <div class="story-text">
    Below, long, bright lines—the power grids—shivered as invisible currents raced through them. In some places, lights went out all at once. Airplanes circled, unable to speak with the towers below. Even ships in faraway seas drifted, their compasses spinning wildly. Radios crackled and gave only static.
  </div>

  <div class="story-text">
    The sky shimmered, charged with invisible electricity. Nombre felt confusion—what was happening to this world? “Did I mean to cause so much trouble?” Nombre wondered, seeing all the flickers and shadows spreading below.
  </div>

  <div class="story-text">
    Then something new began. As “Nombre’s” energy touched the upper edge of Earth’s atmosphere—the ionosphere—tiny atoms of oxygen and nitrogen started to dance, spinning and swaying in invisible waves. Their dance released colors—oxygen glowed red and green, while nitrogen shimmered in blue and violet.
  </div>

  <div class="story-text">
    Nombre was changing. They became an aurora—a shimmering curtain, waving far beyond the poles, above the Sierras of San Luis.
  </div>
  
  <details class="science-accordion">
  <summary>🔬 The science behind it: why is the aurora green?</summary>
<div class="accordion-body">
  <p>
    Auroras happen when tiny particles from the solar wind bump into atoms of 
    oxygen and nitrogen high up in Earth’s atmosphere.  
    Oxygen glows green when it’s about 100–300 kilometers above the ground, 
    while nitrogen adds blue and purple shades to the light show.
  </p>
</div>

</details>

</div>

<!-- Capítulo 7: Cuando el Sol Pintó Nuestro Cielo -->
<div class="chapter" id="chapter6">
  <h1 class="title">When the Sun Painted Our Sky</h1>

  <div class="story-text">
    In La Punta, Lihué still watched from the window, eyes wide. The lights above the mountains shifted from emerald green to deep blue, from violet to threads of warm gold. Far away, swallows flew in zigzags, as though unsure which way was north. They landed together on the old algarrobo tree, ruffling their wings.
  </div>

  <div class="story-text">
    On the battery radio, a reporter’s voice crackled: “Whales are turning off course in the southern seas tonight. Fishermen say the ocean feels strange.” Lihué crept outside, toes curling in the cold grass, looking up with awe. “What’s happening to the sky?” they whispered.
  </div>

  <div class="story-text">
    High above, “Nombre” was fading. Their energy spread thinner and thinner, until they were only colors dissolving into the sky. For a moment, “Nombre” felt peace. “So this is what it means to touch a world,” they thought. They disappeared softly into the atmosphere, leaving behind the light of a thousand colors.
  </div>

  <div class="story-text">
    Lihué watched until the last shimmer vanished. They ran inside and opened their sketchbook. Green waves over the hills, violet ribbons in the dawn—they drew everything before it faded from memory. Under the picture, they wrote a question: Can the Sun paint our sky?
  </div>

  <div class="story-text">
    Standing by the window again, Lihué smiled. They felt they had seen something secret—the planet itself seemed alive, like a giant compass that the Sun had gently touched. That night, La Punta kept the memory of a different sky—one that beat to the rhythm of the Sun.
  </div>
</div>
   

    <!-- Navegación -->
    <div class="navigation">
        <button class="nav-btn active">⛰️</button>
        <button class="nav-btn">🌞</button>
        <button class="nav-btn">🌌</button>
        <button class="nav-btn">🌎</button>
        <button class="nav-btn">✨</button>
        <button class="nav-btn">🌅</button>
    </div>

    <script>
        let currentChapter = 1;
        const totalChapters = 6;

        window.addEventListener("scroll", () => {
        const scrollTop = window.scrollY || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - window.innerHeight;
        const scrolled = (scrollTop / height) * 100;
        document.getElementById("reading-progress").style.width = scrolled + "%";
      });

        // Generar estrellas de fondo
        function createStars() {
            const container = document.querySelector('.stars-container');
            if (container) {
                for (let i = 0; i < 100; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.animationDelay = Math.random() * 3 + 's';
                    container.appendChild(star);
                }
            }
        }

        // Generar partículas espaciales
        function createSpaceParticles() {
            const spaceJourney = document.querySelector('.space-journey');
            if (spaceJourney) {
                for (let i = 0; i < 15; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'space-particle';
                    particle.style.left = Math.random() * -50 + 'px';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.animationDelay = Math.random() * 12 + 's';
                    spaceJourney.appendChild(particle);
                }
            }
        }

        // Crear efectos electromagnéticos
        function createElectromagneticEffects() {
            const earthEncounter = document.querySelector('.earth-encounter');
            if (earthEncounter) {
                for (let i = 0; i < 8; i++) {
                    const wave = document.createElement('div');
                    wave.className = 'electromagnetic-wave';
                    wave.style.cssText = `
                        position: absolute;
                        width: ${20 + Math.random() * 30}px;
                        height: 3px;
                        background: linear-gradient(90deg, transparent, #00bfff, transparent);
                        top: ${20 + Math.random() * 60}%;
                        left: -50px;
                        animation: electromagneticPulse ${2 + Math.random() * 3}s ease-in-out infinite;
                        animation-delay: ${Math.random() * 2}s;
                        opacity: 0.7;
                    `;
                    earthEncounter.appendChild(wave);
                }
            }
        }

        // Crear destellos de aurora
        function createAuroraSparkles() {
            const auroraFinal = document.querySelector('.aurora-final');
            if (auroraFinal) {
                for (let i = 0; i < 12; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'aurora-sparkle';
                    sparkle.style.cssText = `
                        position: absolute;
                        width: 4px;
                        height: 4px;
                        background: #fff;
                        border-radius: 50%;
                        top: ${Math.random() * 80}%;
                        left: ${Math.random() * 100}%;
                        animation: sparkle ${2 + Math.random() * 3}s ease-in-out infinite;
                        animation-delay: ${Math.random() * 2}s;
                        box-shadow: 0 0 6px #00ff7f;
                    `;
                    auroraFinal.appendChild(sparkle);
                }
            }
        }

        // Navegar al capítulo específico
        function showChapter(chapterNum) {
            console.log('Navegando al capítulo:', chapterNum);
            
            // Validar que el número de capítulo sea válido
            if (chapterNum < 1 || chapterNum > totalChapters) {
                console.error('Número de capítulo inválido:', chapterNum);
                return;
            }

            // Actualizar botones de navegación
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach((btn, index) => {
                btn.classList.remove('active');
                if (index === chapterNum - 1) {
                    btn.classList.add('active');
                }
            });

            // Navegar al capítulo usando scroll suave
            const targetChapter = document.getElementById(`chapter${chapterNum}`);
            if (targetChapter) {
                targetChapter.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
                console.log(`Navegando al capítulo ${chapterNum}`);
            } else {
                console.error(`Capítulo chapter${chapterNum} no encontrado`);
            }
            
            currentChapter = chapterNum;
        }

        // Navegación automática (opcional)
        function autoAdvance() {
            setInterval(() => {
                if (currentChapter < totalChapters) {
                    showChapter(currentChapter + 1);
                } else {
                    showChapter(1); // Volver al inicio
                }
            }, 10000); // Cambiar cada 10 segundos
        }

        // Añadir event listeners a los botones
        function setupNavigation() {
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach((btn, index) => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Botón clickeado:', index + 1);
                    showChapter(index + 1);
                });
            });
        }

        // Navegación con teclado
        function setupKeyboardNavigation() {
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' && currentChapter < totalChapters) {
                    showChapter(currentChapter + 1);
                } else if (e.key === 'ArrowLeft' && currentChapter > 1) {
                    showChapter(currentChapter - 1);
                } else if (e.key === ' ') { // Spacebar para auto-advance
                    e.preventDefault();
                    if (currentChapter < totalChapters) {
                        showChapter(currentChapter + 1);
                    } else {
                        showChapter(1);
                    }
                }
            });
        }

        // Detectar capítulo actual basado en scroll
        function updateCurrentChapter() {
            const chapters = document.querySelectorAll('.chapter');
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const windowHeight = window.innerHeight;
            
            chapters.forEach((chapter, index) => {
                const chapterTop = chapter.offsetTop;
                const chapterBottom = chapterTop + chapter.offsetHeight;
                const chapterCenter = chapterTop + (chapter.offsetHeight / 2);
                
                // Si el centro del capítulo está visible, actualizar navegación
                if (chapterCenter >= scrollTop && chapterCenter <= scrollTop + windowHeight) {
                    const chapterNumber = index + 1;
                    if (currentChapter !== chapterNumber) {
                        currentChapter = chapterNumber;
                        
                        // Actualizar botones de navegación
                        const navBtns = document.querySelectorAll('.nav-btn');
                        navBtns.forEach((btn, btnIndex) => {
                            btn.classList.remove('active');
                            if (btnIndex === index) {
                                btn.classList.add('active');
                            }
                        });
                        
                        console.log('Capítulo actual detectado:', chapterNumber);
                    }
                }
            });
        }

        // Navegación con scroll
        function setupScrollNavigation() {
            // Detectar capítulo actual durante scroll normal
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                if (scrollTimeout) {
                    clearTimeout(scrollTimeout);
                }
                scrollTimeout = setTimeout(() => {
                    updateCurrentChapter();
                }, 100);
            });

            // Navegación rápida con rueda del mouse
            let wheelTimeout;
            document.addEventListener('wheel', (e) => {
                // Prevenir múltiples cambios rápidos
                if (wheelTimeout) return;
                
                wheelTimeout = setTimeout(() => {
                    wheelTimeout = null;
                }, 800);

                if (e.deltaY > 0 && currentChapter < totalChapters) {
                    showChapter(currentChapter + 1);
                } else if (e.deltaY < 0 && currentChapter > 1) {
                    showChapter(currentChapter - 1);
                }
            });
        }

        // Inicializar cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM cargado, inicializando...');
            
            // Verificar que los elementos necesarios existan
            const chapters = document.querySelectorAll('.chapter');
            const navBtns = document.querySelectorAll('.nav-btn');
            
            console.log(`Capítulos encontrados: ${chapters.length}`);
            console.log(`Botones de navegación encontrados: ${navBtns.length}`);
            
            if (chapters.length === 0) {
                console.error('No se encontraron capítulos');
                return;
            }
            
            if (navBtns.length === 0) {
                console.error('No se encontraron botones de navegación');
                return;
            }

            // Configurar navegación
            setupNavigation();
            setupKeyboardNavigation();
            setupScrollNavigation();
            
            // Crear elementos visuales
            createStars();
            createSpaceParticles();
            createElectromagneticEffects();
            createAuroraSparkles();
            
            // Detectar capítulo inicial y asegurar navegación correcta
            updateCurrentChapter();
            
            // Si no se detectó ningún capítulo, ir al primero
            if (currentChapter === 0) {
                currentChapter = 1;
                const navBtns = document.querySelectorAll('.nav-btn');
                navBtns[0].classList.add('active');
            }
            
            console.log('Inicialización completada');
        });
    </script>
</body>
</html>